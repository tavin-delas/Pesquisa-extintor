<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gest칚o de Classes de Extintores</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f9;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #007bff;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        .actions button {
            padding: 5px 10px;
            margin-right: 5px;
            cursor: pointer;
            border: none;
            border-radius: 4px;
        }
        .insert-form, .update-form {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .insert-form input, .update-form input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            flex-grow: 1;
        }
        .insert-form button, .update-form button {
            background-color: #28a745;
            color: white;
            padding: 8px 15px;
        }
        .delete-btn { background-color: #dc3545; color: white; }
        .update-btn { background-color: #ffc107; color: #333; }
        .hidden { display: none; }
    </style>
</head>
<body>

<div class="container">
    <h1>游댠 Gest칚o de Classes de Extintores (CRUD Simulado)</h1>

    <div class="insert-form">
        <input type="text" id="novaClasseInput" placeholder="Nova Classe (Ex: ABC ou BC)">
        <button onclick="adicionarExtintor()">Inserir</button>
    </div>

    <div class="update-form hidden" id="formAlterar">
        <input type="hidden" id="idAlterar">
        <input type="text" id="classeAlterarInput" placeholder="Nova Classe">
        <button onclick="salvarAlteracao()">Salvar Altera칞칚o</button>
        <button onclick="cancelarAlteracao()" style="background-color: #6c757d;">Cancelar</button>
    </div>

    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Classe</th>
                <th class="actions">A칞칫es</th>
            </tr>
        </thead>
        <tbody id="tabelaCorpo">
            </tbody>
    </table>
</div>

<script>
    // Armazenamento Simulado (Substitui o Banco de Dados)
    let extintores = [
        { id: 1, classe: 'ABC' },
        { id: 2, classe: 'BC' }
    ];
    let nextId = 3;

    // --- FUN칂칏ES CRUD ---

    // 4. CONSULTAR (Read)
    function carregarTabela() {
        const tabelaCorpo = document.getElementById('tabelaCorpo');
        tabelaCorpo.innerHTML = ''; // Limpa a tabela

        // Simula a consulta de todos os dados
        extintores.forEach(extintor => {
            const row = tabelaCorpo.insertRow();
            row.insertCell().textContent = extintor.id;
            row.insertCell().textContent = extintor.classe;

            const acoesCell = row.insertCell();
            acoesCell.classList.add('actions');
            
            // Bot칚o Alterar
            const btnAlterar = document.createElement('button');
            btnAlterar.textContent = 'Alterar';
            btnAlterar.className = 'update-btn';
            btnAlterar.onclick = () => prepararAlteracao(extintor.id, extintor.classe);
            acoesCell.appendChild(btnAlterar);

            // Bot칚o Excluir
            const btnExcluir = document.createElement('button');
            btnExcluir.textContent = 'Excluir';
            btnExcluir.className = 'delete-btn';
            btnExcluir.onclick = () => excluirExtintor(extintor.id);
            acoesCell.appendChild(btnExcluir);
        });
    }

    // 1. INSERIR (Create)
    function adicionarExtintor() {
        const input = document.getElementById('novaClasseInput');
        const novaClasse = input.value.trim().toUpperCase();

        if (novaClasse) {
            extintores.push({
                id: nextId++,
                classe: novaClasse
            });
            input.value = ''; // Limpa o input
            carregarTabela();
            alert(`Classe ${novaClasse} inserida com sucesso!`);
        } else {
            alert('Por favor, insira uma classe v치lida.');
        }
    }

    // 2. ALTERAR (Update) - Parte 1: Preparar
    function prepararAlteracao(id, classeAtual) {
        document.getElementById('idAlterar').value = id;
        document.getElementById('classeAlterarInput').value = classeAtual;
        document.getElementById('formAlterar').classList.remove('hidden');
        
        // Se a classe for 'ABC', j치 preenche com 'A' conforme sua solicita칞칚o
        if (classeAtual === 'ABC') {
            document.getElementById('classeAlterarInput').value = 'A';
        }
    }

    // 2. ALTERAR (Update) - Parte 2: Salvar
    function salvarAlteracao() {
        const id = parseInt(document.getElementById('idAlterar').value);
        const novaClasse = document.getElementById('classeAlterarInput').value.trim().toUpperCase();
        
        if (novaClasse) {
            const index = extintores.findIndex(e => e.id === id);
            if (index !== -1) {
                const classeAntiga = extintores[index].classe;
                extintores[index].classe = novaClasse;
                
                // Esconde o formul치rio
                document.getElementById('formAlterar').classList.add('hidden');
                
                carregarTabela();
                alert(`Classe do ID ${id} alterada de ${classeAntiga} para ${novaClasse} com sucesso!`);
            }
        } else {
            alert('Por favor, insira uma classe v치lida para a altera칞칚o.');
        }
    }

    // Cancelar Altera칞칚o
    function cancelarAlteracao() {
        document.getElementById('formAlterar').classList.add('hidden');
    }


    // 3. EXCLUS츾O (Delete)
    function excluirExtintor(id) {
        if (confirm(`Tem certeza que deseja excluir o extintor com ID ${id}?`)) {
            const extintorExcluido = extintores.find(e => e.id === id);
            extintores = extintores.filter(extintor => extintor.id !== id);
            carregarTabela();
            alert(`Extintor de classe ${extintorExcluido.classe} (ID ${id}) exclu칤do com sucesso!`);
        }
    }

    // Carrega os dados iniciais ao carregar a p치gina
    window.onload = carregarTabela;
</script>

</body>
</html>